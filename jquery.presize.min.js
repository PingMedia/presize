/* ==========================================================
 * jquery.presize.js v1
 * http://pingmedia.github.com/presize/
 * ==========================================================
 * Copyright Csóka Péter Endre | P!ng Media.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
jQuery.presize_base=false;jQuery.presize_options="";jQuery.presize_class="presize";(function(e){e.fn.extend({presize:function(t){if(e.presize_base){var n=e(window).width();var r=e(window).height();var s=e(e.presize_base).width();var o=e(e.presize_base).height();var u=parseInt(e(e.presize_base).css("max-width"));var a=parseInt(e(e.presize_base).css("max-height"));if(n>u){var f=1}else if(s<u){var f=s/u}else{var f=o/a}}else{var f=1}var l={percent:f,check:"width,height,top,left,bottom,right,margin-left,margin-top",add:"",exc:"",c:e.presize_class};var t=e.extend(l,t);t=e.extend(e.presize_options,t);t.check=t.check+","+t.add;var h=e(this).selector;if(typeof e.presize_items=="undefined"){e.presize_items=[]}if(typeof e.presize_items[h]=="undefined"){e.presize_items[h]=new Array}return this.each(function(n,r){var s=t;var o=e(this);var u=s.exc.split(",");var a=s.check.split(",");if(typeof e.presize_items[h][n]=="undefined"){e.presize_items[h][n]=new Array;e(h).addClass(s.c);for(c in a){var f=a[c];var l=parseInt(o.css(f));if(e.inArray(f,u)){if(l){e.presize_items[h][n][f]=l}}}}else{var p=e.presize_items[h][n];for(i in p){var d=p[i];var v=d*s.percent;o.css(i,v+"px")}}})}})})(jQuery)